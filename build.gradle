plugins {
	id "java"
	id "edu.wpi.first.GradleRIO" version "2018.06.21"
	id 'idea'
}

def ROBOT_CLASS = "frc.team2410.robot.Robot"
def TEAM = 2410;

// Define my targets (RoboRIO) and artifacts (deployable files)
// This is added by GradleRIO's backing project EmbeddedTools.
deploy {
	targets {
		target("roborio", edu.wpi.first.gradlerio.frc.RoboRIO) {
			// Team can be overridden by command line, for use with VSCode
			team = TEAM
		}
	}
	artifacts {
		artifact('frcJava', edu.wpi.first.gradlerio.frc.FRCJavaArtifact) {
			targets << "roborio"
			// Debug can be overridden by command line, for use with VSCode
			debug = getDebugOrDefault(false)
		}
	}
}

// Defining my dependencies. In this case, WPILib (+ friends), CTRE Toolsuite (Talon SRX)
// and NavX.
dependencies {
	compile wpilib()
	compile ctre()
	compile navx()
}

// Setting up my Jar File. In this case, adding all libraries into the main jar ('fat jar')
// in order to make them all available at runtime. Also adding the manifest so WPILib
// knows where to look for our Robot Class.
jar {
	from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
	manifest edu.wpi.first.gradlerio.GradleRIOPlugin.javaManifest(ROBOT_CLASS)
}

wrapper {
	gradleVersion = '5.0'
}